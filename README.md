# Pixiv Booth to freee Automation

## 概要

このプロジェクトは、[Pixiv Booth](https://booth.pm/)からダウンロードした売上CSVを[会計freee](https://www.freee.co.jp/)に自動で取引登録するための、サーバーレスアプリケーションです。

手動での煩雑な入力作業をなくし、確定申告などの経理業務を効率化することを目的としています。

### 主な機能

* **S3トリガー:** 指定のS3バケットに売上CSVをアップロードするだけで、自動的に処理が開始されます。
* **自動ID解決:** freeeの勘定科目や税区分といった、手動での設定が面倒なIDをAPI経由で自動的に取得します。
* **安全な認証:** freee APIのOAuth 2.0リフレッシュトークンに対応しており、安全かつ継続的にAPIを利用できます。認証情報はAWS Secrets Managerで厳重に管理されます。
* **サーバーレス:** AWS Lambdaをベースにしているため、サーバーの管理が不要で、コスト効率に優れています。

### アーキテクチャ

---

## 🚀 Releases (配布ファイル)

ビルド済みのLambda関数 (`deployment.zip`) は、以下のリリースページからダウンロードできます。非エンジニアの方は、こちらをご利用ください。

➡️ [**Latest Releaseをダウンロード**](https://github.com/qryuu/booth-freee-automator-repo/releases/latest)

---

## 📖 セットアップガイド

このプロジェクトは、AWSやAPIの知識レベルに応じて、2つのセットアップガイドを用意しています。

### 非エンジニアの方向け

AWSの画面操作だけでセットアップを完了できる、丁寧なガイドです。プログラムのコードを触る必要はありません。

➡️ **[Noteで続きを読む](https://note.com/qryuu/n/n34ab87ef8c3a)**

### 🛠️ エンジニアの方向け

ソースコードのカスタマイズや、より詳細な技術的背景を理解したい方向けのガイドです。

➡️ **[Qiitaで続きを読む](ここにQiitaの記事URLを貼り付け)**

---

## 💻 開発とコントリビューション

このプロジェクトでは、Git Flowに基づいたブランチ戦略を採用しています。

* `main`: 常に安定したリリースバージョンが格納されています。直接のプッシュは禁止されています。
* `develop`: 次期リリースのための開発ブランチです。機能追加やバグ修正はこちらにマージされます。

機能追加などのコントリビューションを行う際は、`develop`ブランチから`feature/*`ブランチを作成し、プルリクエストを送ってください。

## 使い方

セットアップが完了した後の使い方は非常にシンプルです。

1. **Pixiv Booth**から、月次の売上CSVファイルをダウンロードします。
2. セットアップ時に作成した**S3バケット**に、そのCSVファイルをアップロードします。
3. しばらく待つと、**会計freee**の取引一覧に、CSVの内容が自動で登録されます。

## 注意事項

* このアプリケーションは、CSVのフォーマットやfreee APIの仕様変更によって動作しなくなる可能性があります。
* freeeのリフレッシュトークンは、セキュリティ上の理由から定期的に失効する場合があります。その際は、手順書に従って手動で再取得し、AWS Secrets Managerの値を更新してください。

## ライセンス

このプロジェクトは[MITライセンス](LICENSE)の下で公開されています。
